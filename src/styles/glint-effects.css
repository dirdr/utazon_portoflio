@layer utilities {
  .glint-button-wrapper {
    @apply relative overflow-hidden rounded-full;
    padding: 1px;
  }

  .glint-button-wrapper::before {
    content: "";
    position: absolute;
    top: -100%;
    left: -100%;
    width: 300%;
    height: 300%;
    scale: calc(1.41 * var(--glint-scale, 1));
    background:
      conic-gradient(
        from 0deg,
        transparent 40deg,
        rgba(255, 255, 255, var(--glint-opacity, 0.6)) 80deg,
        rgba(255, 255, 255, var(--glint-opacity-peak, 0.7)) 90deg,
        rgba(255, 255, 255, var(--glint-opacity, 0.6)) 100deg,
        transparent 150deg
      ),
      radial-gradient(circle, #565656 0%, #565656 100%);
    border-radius: 50%;
    animation: border-spin var(--animation-duration) linear infinite;
    z-index: 1;
    transition: scale 0.1s ease-out;
  }

  .glint-button-content {
    @apply relative h-full w-full rounded-full bg-button-bg z-10;
  }

  .glint-card-wrapper {
    @apply relative overflow-hidden rounded-2xl md:rounded-3xl;
    padding: 1px;
    --glint-card-speed: 3s;
  }

  .glint-card-wrapper::before {
    content: "";
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, #565656 0%, #565656 100%);
    border-radius: 1rem; /* Mobile: rounded-2xl */
    z-index: 1;
  }

  @media (min-width: 768px) {
    .glint-card-wrapper::before {
      border-radius: 1.5rem; /* Desktop: rounded-3xl */
    }
    .glint-card-wrapper::after {
      border-radius: 1.5rem; /* Desktop: rounded-3xl */
    }
  }

  .glint-card-wrapper::after {
    content: "";
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: conic-gradient(
      from 0deg,
      transparent 50deg,
      rgba(255, 255, 255, 0.4) 70deg,
      rgba(255, 255, 255, 0.8) 90deg,
      rgba(255, 255, 255, 0.4) 110deg,
      transparent 130deg,
      transparent 230deg,
      rgba(255, 255, 255, 0.4) 250deg,
      rgba(255, 255, 255, 0.8) 270deg,
      rgba(255, 255, 255, 0.4) 290deg,
      transparent 310deg
    );
    border-radius: 1rem; /* Mobile: rounded-2xl */
    opacity: 0;
    animation: none;
    transition: opacity 0.3s ease;
    will-change: auto;
    z-index: 2;
  }

  /* Show glint on hover and when card is touch-active */
  .glint-card-wrapper:hover::after,
  .glint-card-wrapper.touch-active::after {
    opacity: 1;
    animation: border-spin var(--glint-card-speed) linear infinite;
    will-change: transform;
  }

  .glint-card-wrapper-disabled::before,
  .glint-card-wrapper-disabled::after {
    display: none;
  }

  .glint-card-wrapper-static {
    @apply relative overflow-hidden rounded-3xl;
    padding: 1px;
  }

  .glint-card-wrapper-static::before,
  .glint-card-wrapper-static::after {
    display: none;
  }

  .glint-card-wrapper-always::after {
    opacity: 1;
  }

  .glint-card-wrapper-square {
    @apply relative overflow-hidden rounded-2xl;
    padding: 1px;
    --glint-card-speed: 6s;
  }

  .glint-card-wrapper-square::before {
    content: "";
    position: absolute;
    top: -75%;
    left: -75%;
    width: 250%;
    height: 250%;
    background: radial-gradient(circle, #565656 0%, #565656 100%);
    border-radius: 16px;
    z-index: 1;
  }

  .glint-card-wrapper-square::after {
    content: "";
    position: absolute;
    top: -75%;
    left: -75%;
    width: 250%;
    height: 250%;
    background: conic-gradient(
      from 0deg,
      transparent 30deg,
      rgba(255, 255, 255, 0.3) 60deg,
      rgba(255, 255, 255, 0.9) 90deg,
      rgba(255, 255, 255, 0.3) 120deg,
      transparent 150deg,
      transparent 210deg,
      rgba(255, 255, 255, 0.3) 240deg,
      rgba(255, 255, 255, 0.9) 270deg,
      rgba(255, 255, 255, 0.3) 300deg,
      transparent 330deg
    );
    border-radius: 16px;
    opacity: 1;
    z-index: 2;
  }

  .glint-card-wrapper-square[data-animate="true"]::after {
    animation: border-spin var(--glint-card-speed) linear infinite;
    will-change: transform;
  }

  .glint-card-wrapper-square[data-animate="false"]::after {
    animation: none;
  }

  .glint-card-content {
    @apply relative w-full h-full rounded-2xl md:rounded-3xl bg-background z-10;
    contain: layout style paint;
  }

  .glint-card-content-square {
    @apply relative w-full h-full rounded-2xl bg-background z-10;
  }
}
