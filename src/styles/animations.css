@layer utilities {
  @keyframes lightSweep {
    0% {
      background-position: 200% 0;
    }
    100% {
      background-position: -200% 0;
    }
  }

  @keyframes border-spin {
    100% {
      transform: rotate(360deg);
    }
  }

  @keyframes background-rotate {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }

  @keyframes slide {
    0% {
      transform: translateX(-100%);
    }
    100% {
      transform: translateX(200%);
    }
  }

  .animate-slide {
    animation: slide 2s ease-in-out infinite;
  }

  /* GPU acceleration and performance optimizations for page transitions */
  .page-transition {
    transform: translate3d(0, 0, 0);
    contain: layout style paint;
    backface-visibility: hidden;
  }

  /* Only apply will-change during transitions/animations to reduce memory usage */
  .page-transition.animating {
    will-change: transform, opacity;
  }

  .gpu-accelerated {
    transform: translate3d(0, 0, 0);
    backface-visibility: hidden;
    contain: layout style paint;
    content-visibility: auto;
  }

  /* Only apply will-change when element is being animated */
  .gpu-accelerated.animating {
    will-change: transform;
    contain: layout style paint size;
  }

  .smooth-animation {
    contain: layout style paint;
    transform-style: preserve-3d;
    isolation: isolate;
    content-visibility: auto;
  }

  /* Enhanced containment for complex animations */
  .complex-animation {
    contain: strict;
    isolation: isolate;
    will-change: transform, opacity;
    transform: translateZ(0);
    backface-visibility: hidden;
  }

  /* Video-specific optimizations */
  .video-container {
    contain: layout style paint size;
    content-visibility: auto;
    transform: translateZ(0);
  }

  /* Canvas optimizations - less aggressive containment for canvas */
  .canvas-container {
    contain: layout style paint;
    will-change: auto;
  }

  /* Modal animations - smooth full-screen opacity overlay */
  @keyframes modal-backdrop-in {
    from {
      backdrop-filter: blur(0px);
      background-color: rgba(0, 0, 0, 0);
    }
    to {
      backdrop-filter: blur(4px);
      background-color: rgba(0, 0, 0, 0.6);
    }
  }

  @keyframes modal-backdrop-out {
    from {
      backdrop-filter: blur(4px);
      background-color: rgba(0, 0, 0, 0.6);
    }
    to {
      backdrop-filter: blur(0px);
      background-color: rgba(0, 0, 0, 0);
    }
  }

  @keyframes modal-content-in {
    from {
      opacity: 0;
      transform: translate(-50%, -50%) scale(0.9) translateZ(0);
    }
    to {
      opacity: 1;
      transform: translate(-50%, -50%) scale(1) translateZ(0);
    }
  }

  @keyframes modal-content-out {
    from {
      opacity: 1;
      transform: translate(-50%, -50%) scale(1) translateZ(0);
    }
    to {
      opacity: 0;
      transform: translate(-50%, -50%) scale(0.9) translateZ(0);
    }
  }

  .animate-modal-backdrop-in {
    animation: modal-backdrop-in 0.3s cubic-bezier(0.16, 1, 0.3, 1);
    animation-fill-mode: both;
  }

  .animate-modal-backdrop-out {
    animation: modal-backdrop-out 0.25s cubic-bezier(0.16, 1, 0.3, 1);
    animation-fill-mode: forwards;
  }

  .animate-modal-content-in {
    animation: modal-content-in 0.3s cubic-bezier(0.16, 1, 0.3, 1);
    animation-fill-mode: both;
  }

  .animate-modal-content-out {
    animation: modal-content-out 0.25s cubic-bezier(0.16, 1, 0.3, 1);
    animation-fill-mode: forwards;
  }

  @keyframes sound-wave {
    0%,
    55%,
    100% {
      transform: scaleY(0.2) translateY(0);
    }
    8% {
      transform: scaleY(0.85) translateY(0);
    }
    18% {
      transform: scaleY(0.85) translateY(-8px);
    }
    28% {
      transform: scaleY(0.2) translateY(0);
    }
  }

  .animate-sound-wave {
    animation: sound-wave 2.5s ease-in-out infinite;
    transform-origin: center;
    animation-fill-mode: both;
  }

  @keyframes progress-bar {
    0% {
      width: 0%;
    }
    100% {
      width: 100%;
    }
  }

  .animate-progress-bar {
    animation: progress-bar linear;
    width: 0%;
  }
}
